import{o as A,u as Y,k as K,j as e,e as V,p as k,A as G,P as M,q as X,M as Q,T as Z,I as ee,R as se,t as ae,F as oe}from"./pages-admin-TvcOoOrX.js";import{a as te,u as H,b as ne,r as c,N as re,B as ie,d as D,e as r,f as S,R as le}from"./vendor-react-Z5zKi_Kz.js";import{E as W,P as T,A as O,a as $,b as ce,D as de}from"./pages-content-Dye-XIi5.js";import{M as q,D as me}from"./pages-miembro-BtGw9uUe.js";import"./vendor-charts-Ds92Sbdx.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function x(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(n){if(n.ep)return;n.ep=!0;const t=x(n);fetch(n.href,t)}})();var L={},U=te;L.createRoot=U.createRoot,L.hydrateRoot=U.hydrateRoot;const ue=[{to:"/miembro/",label:"Panel",icono:"üè†",seccion:"panel"},{to:"/miembro/eventos",label:"Eventos",icono:"üìÖ",seccion:"eventos"},{to:"/miembro/programa",label:"Programa",icono:"üìñ",seccion:"programa"},{to:"/miembro/anuncios",label:"Anuncios",icono:"üì¢",seccion:"anuncios",badge:!0},{to:"/miembro/perfil",label:"Mi Perfil",icono:"üë§",seccion:"panel"},{to:"/miembro/pastora",label:"Info Pastoral",icono:"‚úùÔ∏è",seccion:"pastora"}],pe=[{to:"/",label:"Panel",icono:"üè†",seccion:"panel"},{to:"/miembros",label:"Miembros",icono:"üë•",seccion:"miembros"},{to:"/tesoreria",label:"Tesorer√≠a",icono:"üí∞",seccion:"tesoreria"},{to:"/finanzas",label:"Finanzas",icono:"üìä",seccion:"finanzas"},{to:"/reportes",label:"Reportes",icono:"üìã",seccion:"reportes"},{to:"/inventario",label:"Inventario",icono:"üì¶",seccion:"inventario"},{to:"/eventos",label:"Eventos",icono:"üìÖ",seccion:"eventos"},{to:"/asistencia",label:"Asistencia",icono:"‚úÖ",seccion:"asistencia"},{to:"/pastora",label:"Pastora",icono:"‚úùÔ∏è",seccion:"pastora"},{to:"/programa",label:"Programa",icono:"üìñ",seccion:"programa"},{to:"/anuncios",label:"Anuncios",icono:"üì¢",seccion:"anuncios",badge:!0},{to:"/documentos",label:"Documentos",icono:"üìÑ",seccion:"documentos"},{to:"/respaldo",label:"Respaldo",icono:"üíæ",seccion:"respaldo"},{to:"/configuracion",label:"Configuraci√≥n",icono:"‚öôÔ∏è",seccion:"configuracion"}],J="anuncios_visto_en";function I({children:o}){var C,E,_;const{user:a,logout:x}=A(),{puede:d}=Y(),n=H(),t=ne(),[l,h]=c.useState(!1),[N,j]=c.useState(!1),m=["admin","pastor","pastora","secretaria","secretario","copastor","copastora","tesorero","tesorera","diacono","maestra"],p=((C=a==null?void 0:a.rol)==null?void 0:C.toLowerCase())||"",b=(a==null?void 0:a.tipo)==="miembro"&&!m.includes(p),u=b?ue:pe.filter(({seccion:v})=>d(v)),y=t.pathname.includes("anuncios");c.useEffect(()=>{y&&(localStorage.setItem(J,new Date().toISOString()),j(!1))},[y]),c.useEffect(()=>{y||K().then(v=>{const s=v.data||[];if(s.length===0)return;const i=localStorage.getItem(J);if(!i){j(!0);return}const R=s.reduce((z,F)=>{const B=new Date(F.created_at||F.fecha||0);return B>z?B:z},new Date(0));j(R>new Date(i))}).catch(()=>{})},[]);const w=()=>{x(),n("/login")},f=()=>h(!1);return e.jsxs("div",{className:"layout",children:[e.jsx("div",{className:`sidebar-overlay ${l?"open":""}`,onClick:f}),e.jsxs("aside",{className:`sidebar ${l?"open":""}`,children:[e.jsxs("div",{className:"sidebar-logo",children:[e.jsx("img",{src:"/logo.jpg",alt:"Logo",style:{width:42,height:42,borderRadius:"50%",objectFit:"cover",flexShrink:0}}),e.jsxs("div",{children:[e.jsx("div",{className:"logo-name",style:{fontSize:12,lineHeight:1.3},children:"Ministerio San Juan 7:38"}),e.jsx("div",{className:"logo-sub",style:{fontSize:10},children:"Del Semillero 1/11"}),e.jsx("div",{className:"logo-sub",children:b?"Portal del miembro":"Panel de gesti√≥n"})]})]}),e.jsx("nav",{className:"sidebar-nav",children:u.map(({to:v,label:s,icono:i,badge:R})=>e.jsxs(re,{to:v,end:v==="/"||v==="/miembro/",className:({isActive:z})=>`nav-item ${z?"active":""}`,onClick:f,children:[e.jsx("span",{className:"nav-icon",children:i}),e.jsx("span",{style:{flex:1},children:s}),R&&N&&e.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#e74c3c",flexShrink:0,boxShadow:"0 0 6px rgba(231,76,60,0.8)"}})]},v))}),e.jsxs("div",{className:"sidebar-footer",children:[e.jsxs("div",{className:"user-card",children:[e.jsx("div",{className:"user-avatar",children:(_=(E=a==null?void 0:a.nombre)==null?void 0:E[0])==null?void 0:_.toUpperCase()}),e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-name",children:a==null?void 0:a.nombre}),e.jsx("div",{className:"user-role",children:a==null?void 0:a.rol})]})]}),e.jsx("button",{className:"logout-btn",onClick:w,title:"Cerrar sesi√≥n",children:"‚èª"})]})]}),e.jsxs("div",{className:"main-content",children:[e.jsxs("div",{className:"mobile-topbar",children:[e.jsx("button",{className:"menu-toggle",onClick:()=>h(!l),children:"‚ò∞"}),e.jsxs("div",{className:"mobile-topbar-logo",children:[e.jsx("img",{src:"/logo.jpg",alt:"Logo",style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("div",{className:"mobile-topbar-title",children:"Ministerio San Juan 7:38"}),e.jsx("div",{className:"mobile-topbar-sub",children:"Del Semillero 1/11"})]})]})]}),e.jsx("div",{className:"content-inner",children:o})]})]})}function he({onDone:o}){const[a,x]=c.useState(!0);return c.useEffect(()=>{const d=setTimeout(()=>{x(!1)},1800),n=setTimeout(()=>{o()},2200);return()=>{clearTimeout(d),clearTimeout(n)}},[]),e.jsxs("div",{style:{position:"fixed",inset:0,background:"#0f1117",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,opacity:a?1:0,transition:"opacity 0.4s ease",pointerEvents:a?"all":"none"},children:[e.jsx("img",{src:"/logo.jpg",alt:"Logo",style:{width:100,height:100,borderRadius:"50%",objectFit:"cover",marginBottom:20,boxShadow:"0 0 30px rgba(184,134,11,0.4)"}}),e.jsx("div",{style:{fontFamily:"Playfair Display, serif",fontSize:18,fontWeight:700,color:"#fff",marginBottom:6},children:"Ministerio San Juan 7:38"}),e.jsx("div",{style:{fontSize:12,color:"#888",marginBottom:30},children:"Del Semillero 1/11"}),e.jsx("div",{style:{width:40,height:3,background:"#b8860b",borderRadius:2}})]})}function xe(){const[o,a]=c.useState([]),[x,d]=c.useState(!1);return c.useEffect(()=>{(async()=>{try{const{data:t}=await V({limit:500}),l=new Date,h=l.getDate(),N=l.getMonth()+1,j=t.filter(m=>{if(!m.fecha_nacimiento)return!1;const p=new Date(m.fecha_nacimiento);return p.getDate()===h&&p.getMonth()+1===N});j.length>0&&(a(j),d(!0))}catch{}})()},[]),x?e.jsxs("div",{style:{position:"fixed",bottom:24,right:24,background:"var(--surface)",border:"1px solid var(--gold)",borderRadius:16,padding:"18px 20px",maxWidth:320,zIndex:999,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",animation:"slideIn 0.4s ease"},children:[e.jsx("style",{children:"@keyframes slideIn { from { transform: translateY(20px); opacity:0 } to { transform: translateY(0); opacity:1 } }"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:24},children:"üéÇ"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:700,fontSize:14,color:"var(--gold)"},children:"Cumpleanos hoy!"}),e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)"},children:o.length===1?"1 miembro cumple anos":`${o.length} miembros cumplen anos`})]})]}),e.jsx("button",{onClick:()=>d(!1),style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",fontSize:16,padding:4},children:"X"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:o.map(n=>{const t=new Date().getFullYear()-new Date(n.fecha_nacimiento).getFullYear();return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,background:"var(--bg-card)",borderRadius:10,padding:"8px 12px"},children:[n.foto?e.jsx("img",{src:n.foto,style:{width:36,height:36,borderRadius:"50%",objectFit:"cover",border:"2px solid var(--gold)"}}):e.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"var(--gold-dim)",border:"2px solid var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:16},children:"üéâ"}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:600,fontSize:13},children:[n.nombres," ",n.apellidos]}),e.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)"},children:["Hoy cumple ",t," anos!"]})]})]},n.id)})})]}):null}function je(){const{login:o,loginMiembro:a}=A(),x=H(),[d,n]=c.useState("admin"),[t,l]=c.useState({email:"",password:"",cedula:"",nombres:"",apellidos:"",fecha_nacimiento:""}),[h,N]=c.useState(!1),[j,m]=c.useState(""),[p,b]=c.useState(!1),u=w=>l({...t,[w.target.name]:w.target.value}),y=async w=>{var f,C;w.preventDefault(),m(""),b(!0);try{d==="admin"?(await o(t.email,t.password),x("/")):(await a(h?{nombres:t.nombres,apellidos:t.apellidos,fecha_nacimiento:t.fecha_nacimiento}:{cedula:t.cedula}),x("/mi-perfil"))}catch(E){m(((C=(f=E.response)==null?void 0:f.data)==null?void 0:C.detail)||"No se encontraron datos con esa informaci√≥n")}finally{b(!1)}};return e.jsxs("div",{className:"login-bg",children:[e.jsx("div",{className:"deco-cross cross-1",children:"‚úõ"}),e.jsx("div",{className:"deco-cross cross-2",children:"‚úõ"}),e.jsx("div",{className:"deco-cross cross-3",children:"‚úõ"}),e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:e.jsx("img",{src:"/logo.jpg",alt:"Logo",style:{width:90,height:90,borderRadius:"50%",objectFit:"cover"}})}),e.jsx("h1",{className:"login-title",children:"Ministerio San Juan 7:38"}),e.jsx("p",{className:"login-sub",children:"Del Semillero 1/11"})]}),e.jsxs("div",{style:{display:"flex",background:"var(--surface-2)",borderRadius:10,padding:4,marginBottom:20,gap:4},children:[e.jsx("button",{type:"button",onClick:()=>n("admin"),style:{flex:1,padding:"8px 0",borderRadius:8,border:"none",cursor:"pointer",fontWeight:600,fontSize:13,background:d==="admin"?"var(--gold)":"transparent",color:d==="admin"?"#000":"var(--text-muted)",transition:"all .2s"},children:"üëë Administraci√≥n"}),e.jsx("button",{type:"button",onClick:()=>n("miembro"),style:{flex:1,padding:"8px 0",borderRadius:8,border:"none",cursor:"pointer",fontWeight:600,fontSize:13,background:d==="miembro"?"var(--gold)":"transparent",color:d==="miembro"?"#000":"var(--text-muted)",transition:"all .2s"},children:"üôè Soy miembro"})]}),j&&e.jsx("div",{className:"alert alert-error",children:j}),e.jsxs("form",{onSubmit:y,className:"login-form",children:[d==="admin"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Correo electr√≥nico"}),e.jsx("input",{name:"email",type:"email",className:"form-input",placeholder:"admin@iglesia.com",value:t.email,onChange:u,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Contrase√±a"}),e.jsx("input",{name:"password",type:"password",className:"form-input",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:t.password,onChange:u,required:!0})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10,marginBottom:16},children:[e.jsx("button",{type:"button",onClick:()=>N(!1),style:{padding:"6px 16px",borderRadius:20,border:"1px solid var(--border)",cursor:"pointer",fontWeight:600,fontSize:12,background:h?"transparent":"var(--surface-2)",color:h?"var(--text-muted)":"var(--gold)"},children:"Adulto"}),e.jsx("button",{type:"button",onClick:()=>N(!0),style:{padding:"6px 16px",borderRadius:20,border:"1px solid var(--border)",cursor:"pointer",fontWeight:600,fontSize:12,background:h?"var(--surface-2)":"transparent",color:h?"var(--gold)":"var(--text-muted)"},children:"Menor de edad"})]}),h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Nombres"}),e.jsx("input",{name:"nombres",type:"text",className:"form-input",placeholder:"Nombres completos",value:t.nombres,onChange:u,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Apellidos"}),e.jsx("input",{name:"apellidos",type:"text",className:"form-input",placeholder:"Apellidos completos",value:t.apellidos,onChange:u,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Fecha de nacimiento"}),e.jsx("input",{name:"fecha_nacimiento",type:"date",className:"form-input",value:t.fecha_nacimiento,onChange:u,required:!0})]})]}):e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"N√∫mero de c√©dula"}),e.jsx("input",{name:"cedula",type:"text",className:"form-input",placeholder:"000-0000000-0",value:t.cedula,onChange:u,required:!0})]})]}),e.jsx("button",{type:"submit",className:"btn btn-gold login-btn",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner",style:{width:16,height:16}})," Buscando..."]}):d==="admin"?"Iniciar sesi√≥n":"Entrar"})]}),e.jsx("div",{className:"login-divider",children:e.jsx("span",{children:"Sistema de Gesti√≥n Integral"})}),e.jsxs("div",{style:{textAlign:"center",marginTop:16,padding:"0 8px"},children:[e.jsx("p",{style:{fontStyle:"italic",fontSize:13,color:"var(--text-muted)",lineHeight:1.7},children:'"El que cree en m√≠, como dice la Escritura, de su interior correr√°n r√≠os de agua viva."'}),e.jsx("span",{style:{color:"var(--gold)",fontSize:12,fontWeight:600},children:"‚Äî Juan 7:38"})]})]})]})}function P(o){const a=document.createElement("div");a.style.cssText="position:fixed;top:20px;right:20px;z-index:99999;background:#27ae60;color:white;padding:14px 20px;border-radius:8px;font-size:14px;font-weight:500;box-shadow:0 4px 12px rgba(0,0,0,0.3);max-width:320px;",a.textContent=o,document.body.appendChild(a),setTimeout(()=>a.remove(),3e3)}function ge(){const{user:o}=A(),[a,x]=c.useState([]),[d,n]=c.useState(!0),[t,l]=c.useState(null),[h,N]=c.useState(null),[j,m]=c.useState(""),[p,b]=c.useState({nombre:"",email:"",password:"",rol:"admin"}),[u,y]=c.useState({password_actual:"",password_nuevo:"",confirmar:""}),w=["admin","secretaria","secretario","pastor","pastora","copastor","copastora","tesorero","tesorera"],f=async()=>{try{const{data:s}=await k.get("/auth/usuarios");x(s)}catch{}n(!1)};c.useEffect(()=>{f()},[]);const C=async()=>{var s,i;if(m(""),!p.nombre||!p.email||!p.password){m("Todos los campos son obligatorios");return}try{await k.post("/auth/usuarios",p),l(null),b({nombre:"",email:"",password:"",rol:"admin"}),f(),P("Usuario creado exitosamente")}catch(R){m(((i=(s=R.response)==null?void 0:s.data)==null?void 0:i.detail)||"Error al crear usuario")}},E=async()=>{var s,i;if(m(""),!u.password_nuevo||!u.confirmar){m("Completa todos los campos");return}if(u.password_nuevo!==u.confirmar){m("Las contrase√±as no coinciden");return}if(u.password_nuevo.length<6){m("La contrase√±a debe tener al menos 6 caracteres");return}try{await k.put(`/auth/usuarios/${h.id}/password`,{password_actual:u.password_actual,password_nuevo:u.password_nuevo}),l(null),y({password_actual:"",password_nuevo:"",confirmar:""}),P("Contrase√±a actualizada exitosamente")}catch(R){m(((i=(s=R.response)==null?void 0:s.data)==null?void 0:i.detail)||"Error al cambiar contrase√±a")}},_=async s=>{try{await k.put(`/auth/usuarios/${s.id}/activo`,{activo:!s.activo}),f(),P(s.activo?"Usuario desactivado":"Usuario activado")}catch{}},v=async s=>{if(window.confirm(`¬øEliminar al usuario ${s.nombre}? Esta accion no se puede deshacer.`))try{await k.delete(`/auth/usuarios/${s.id}`),f(),P("Usuario eliminado")}catch{}};return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Configuracion"}),e.jsx("p",{className:"page-subtitle",children:"Gestion de usuarios del sistema"})]}),e.jsx("button",{className:"btn btn-gold",onClick:()=>{m(""),l("nuevo")},children:"+ Nuevo usuario"})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{style:{fontFamily:"var(--font-heading)",fontSize:17,fontWeight:600,marginBottom:16},children:"Usuarios del sistema"}),e.jsx("div",{className:"table-wrap",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Rol"}),e.jsx("th",{children:"Estado"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:5,style:{textAlign:"center",padding:30},children:e.jsx("span",{className:"spinner"})})}):a.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:s.nombre}),e.jsx("td",{style:{color:"var(--text-muted)",fontSize:13},children:s.email}),e.jsx("td",{children:e.jsx("span",{style:{background:"var(--gold)",color:"#000",padding:"2px 10px",borderRadius:20,fontSize:12,fontWeight:600},children:s.rol})}),e.jsx("td",{children:e.jsx("span",{style:{color:s.activo?"var(--green)":"var(--red)",fontWeight:600,fontSize:13},children:s.activo?"Activo":"Inactivo"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:6},children:[e.jsx("button",{className:"btn btn-sm",onClick:()=>{N(s),m(""),l("password")},children:"Contrase√±a"}),e.jsx("button",{className:`btn btn-sm ${s.activo?"btn-danger":"btn-gold"}`,onClick:()=>_(s),children:s.activo?"Desactivar":"Activar"}),s.email!==(o==null?void 0:o.email)&&e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>v(s),children:"Eliminar"})]})})]},s.id))})]})})]}),t==="nuevo"&&e.jsx("div",{className:"modal-overlay",onClick:()=>l(null),children:e.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Nuevo usuario"}),e.jsx("button",{className:"modal-close",onClick:()=>l(null),children:"‚úï"})]}),e.jsxs("div",{className:"modal-body",children:[j&&e.jsx("div",{className:"alert alert-error",children:j}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nombre completo"}),e.jsx("input",{className:"input",value:p.nombre,onChange:s=>b(i=>({...i,nombre:s.target.value})),placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{className:"input",type:"email",value:p.email,onChange:s=>b(i=>({...i,email:s.target.value})),placeholder:"email@iglesia.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contrase√±a"}),e.jsx("input",{className:"input",type:"password",value:p.password,onChange:s=>b(i=>({...i,password:s.target.value})),placeholder:"Minimo 6 caracteres"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rol"}),e.jsx("select",{className:"input",value:p.rol,onChange:s=>b(i=>({...i,rol:s.target.value})),children:w.map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn",onClick:()=>l(null),children:"Cancelar"}),e.jsx("button",{className:"btn btn-gold",onClick:C,children:"Crear usuario"})]})]})}),t==="password"&&h&&e.jsx("div",{className:"modal-overlay",onClick:()=>l(null),children:e.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Cambiar contrase√±a ‚Äî ",h.nombre]}),e.jsx("button",{className:"modal-close",onClick:()=>l(null),children:"‚úï"})]}),e.jsxs("div",{className:"modal-body",children:[j&&e.jsx("div",{className:"alert alert-error",children:j}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nueva contrase√±a"}),e.jsx("input",{className:"input",type:"password",value:u.password_nuevo,onChange:s=>y(i=>({...i,password_nuevo:s.target.value})),placeholder:"Minimo 6 caracteres"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Confirmar contrase√±a"}),e.jsx("input",{className:"input",type:"password",value:u.confirmar,onChange:s=>y(i=>({...i,confirmar:s.target.value})),placeholder:"Repite la contrase√±a"})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn",onClick:()=>l(null),children:"Cancelar"}),e.jsx("button",{className:"btn btn-gold",onClick:E,children:"Guardar"})]})]})})]})}function be({children:o}){const{user:a}=A();return a?o:e.jsx(S,{to:"/login",replace:!0})}function g({seccion:o,children:a}){const{puede:x}=Y();return x(o)?a:e.jsx(S,{to:"/",replace:!0})}function fe(){const{user:o}=A();return e.jsxs(D,{children:[e.jsx(r,{path:"/login",element:o?e.jsx(S,{to:o.tipo==="miembro"?"/miembro/":"/",replace:!0}):e.jsx(je,{})}),e.jsx(r,{path:"/mi-perfil",element:(o==null?void 0:o.tipo)==="miembro"?e.jsx(M,{children:e.jsx(I,{children:e.jsx(q,{})})}):e.jsx(S,{to:"/login",replace:!0})}),e.jsx(r,{path:"/miembro/*",element:(o==null?void 0:o.tipo)==="miembro"?e.jsx(M,{children:e.jsx(I,{children:e.jsxs(D,{children:[e.jsx(r,{path:"/",element:e.jsx(me,{})}),e.jsx(r,{path:"/eventos",element:e.jsx(W,{})}),e.jsx(r,{path:"/programa",element:e.jsx(T,{})}),e.jsx(r,{path:"/anuncios",element:e.jsx(O,{})}),e.jsx(r,{path:"/pastora",element:e.jsx($,{})}),e.jsx(r,{path:"/perfil",element:e.jsx(q,{})}),e.jsx(r,{path:"*",element:e.jsx(S,{to:"/miembro/",replace:!0})})]})})}):e.jsx(S,{to:"/login",replace:!0})}),e.jsx(r,{path:"/*",element:e.jsx(be,{children:e.jsx(M,{children:e.jsx(I,{children:e.jsxs(D,{children:[e.jsx(r,{path:"/",element:(o==null?void 0:o.tipo)==="miembro"?e.jsx(S,{to:"/miembro/",replace:!0}):e.jsx(X,{})}),e.jsx(r,{path:"/miembros",element:e.jsx(g,{seccion:"miembros",children:e.jsx(Q,{})})}),e.jsx(r,{path:"/tesoreria",element:e.jsx(g,{seccion:"tesoreria",children:e.jsx(Z,{})})}),e.jsx(r,{path:"/inventario",element:e.jsx(g,{seccion:"inventario",children:e.jsx(ee,{})})}),e.jsx(r,{path:"/eventos",element:e.jsx(g,{seccion:"eventos",children:e.jsx(W,{})})}),e.jsx(r,{path:"/pastora",element:e.jsx(g,{seccion:"pastora",children:e.jsx($,{})})}),e.jsx(r,{path:"/programa",element:e.jsx(g,{seccion:"programa",children:e.jsx(T,{})})}),e.jsx(r,{path:"/anuncios",element:e.jsx(g,{seccion:"anuncios",children:e.jsx(O,{})})}),e.jsx(r,{path:"/asistencia",element:e.jsx(g,{seccion:"asistencia",children:e.jsx(ce,{})})}),e.jsx(r,{path:"/reportes",element:e.jsx(g,{seccion:"reportes",children:e.jsx(se,{})})}),e.jsx(r,{path:"/respaldo",element:e.jsx(g,{seccion:"respaldo",children:e.jsx(ae,{})})}),e.jsx(r,{path:"/finanzas",element:e.jsx(g,{seccion:"finanzas",children:e.jsx(oe,{})})}),e.jsx(r,{path:"/documentos",element:e.jsx(g,{seccion:"documentos",children:e.jsx(de,{})})}),e.jsx(r,{path:"/configuracion",element:e.jsx(g,{seccion:"configuracion",children:e.jsx(ge,{})})}),e.jsx(r,{path:"*",element:e.jsx(S,{to:"/",replace:!0})})]})})})})})]})}function ve(){const[o,a]=c.useState(!0);return e.jsx(G,{children:e.jsxs(ie,{children:[o&&e.jsx(he,{onDone:()=>a(!1)}),e.jsx(fe,{}),e.jsx(xe,{})]})})}const ye="https://iglesia-api-g1ux.onrender.com",Ne=()=>{const o=()=>{fetch(`${ye}/health`).catch(()=>{})};o(),setInterval(o,10*60*1e3)};Ne();L.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsx(ve,{})}));
