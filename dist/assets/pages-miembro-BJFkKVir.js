const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-admin-BZcYvCNE.js","assets/vendor-react-Z5zKi_Kz.js","assets/vendor-charts-Ds92Sbdx.js"])))=>i.map(i=>d[i]);
import{_}from"./pages-content-DuxCjY2U.js";import{o as M,j as e,T as N,p as D}from"./pages-admin-BZcYvCNE.js";import{r as l}from"./vendor-react-Z5zKi_Kz.js";const S=s=>s?new Date(s+"T00:00:00").toLocaleDateString("es-DO",{day:"2-digit",month:"long",year:"numeric"}):null,v=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"",E=["diacono","lider","maestra","maestro","secretaria","secretario","copastor","copastora","pastor","pastora"];function T(){var a;const[s,d]=l.useState(null),f=r=>d({mensaje:r,tipo:"error"}),{user:i}=M(),[t,p]=l.useState(null),[x,m]=l.useState(null),[g,h]=l.useState(!0),n=E.includes((a=i==null?void 0:i.rol)==null?void 0:a.toLowerCase());l.useEffect(()=>{(async()=>{try{const c=await D.get("/miembros/me/perfil");if(p(c.data||null),n)try{const{getMiembros:u}=await _(async()=>{const{getMiembros:j}=await import("./pages-admin-BZcYvCNE.js").then(I=>I.w);return{getMiembros:j}},__vite__mapDeps([0,1,2])),y=await u({limit:500});m(y.data.filter(j=>j.estado==="activo").length)}catch{f("Ocurrio un error inesperado. Intenta de nuevo.")}}catch{f("Ocurrio un error inesperado. Intenta de nuevo.")}h(!1)})()},[]);const o=({icon:r,label:c,value:u})=>u?e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 0",borderBottom:"1px solid var(--border)"},children:[e.jsx("span",{style:{fontSize:16,minWidth:22,textAlign:"center"},children:r}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:.5,marginBottom:2},children:c}),e.jsx("div",{style:{fontSize:14,fontWeight:500},children:u})]})]}):null;return g?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:60},children:e.jsx("span",{className:"spinner",style:{width:36,height:36}})}):e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Mi Perfil"}),e.jsxs("p",{className:"page-subtitle",children:[v(t==null?void 0:t.rol)," Â· ",v(t==null?void 0:t.estado)]})]})}),e.jsxs("div",{className:"card",style:{marginBottom:20,display:"flex",alignItems:"center",gap:18,background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:[t!=null&&t.foto?e.jsx("img",{src:t.foto,style:{width:72,height:72,borderRadius:"50%",objectFit:"cover",border:"3px solid var(--gold)",flexShrink:0}}):e.jsx("div",{style:{width:72,height:72,borderRadius:"50%",background:"var(--surface)",border:"3px solid var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,flexShrink:0},children:"ðŸ™"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:4},children:"Ministerio San Juan 7:38"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:i==null?void 0:i.nombre}),e.jsxs("div",{style:{fontSize:13,color:"var(--text-muted)"},children:[v(t==null?void 0:t.rol)," Â· ",v(t==null?void 0:t.estado)]})]}),n&&x!==null&&e.jsxs("div",{style:{marginLeft:"auto",textAlign:"center",background:"var(--gold-dim)",border:"1px solid var(--gold)",borderRadius:10,padding:"10px 18px"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--gold)"},children:x}),e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"Miembros activos"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16},children:e.jsx("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:"Mi InformaciÃ³n"})}),e.jsx(o,{icon:"ðŸ“±",label:"TelÃ©fono",value:t==null?void 0:t.telefono}),e.jsx(o,{icon:"âœ‰ï¸",label:"Correo",value:t==null?void 0:t.email}),e.jsx(o,{icon:"ðŸŽ‚",label:"Fecha de nacimiento",value:S(t==null?void 0:t.fecha_nacimiento)}),e.jsx(o,{icon:"ðŸ’§",label:"Fecha de bautismo",value:S(t==null?void 0:t.fecha_bautismo)}),e.jsx(o,{icon:"â­",label:"Ministerio",value:t==null?void 0:t.ministerio_actual}),e.jsx(o,{icon:"ðŸ“",label:"DirecciÃ³n",value:t==null?void 0:t.direccion}),e.jsx(o,{icon:"ðŸ’¼",label:"OcupaciÃ³n",value:t==null?void 0:t.ocupacion})]}),s&&e.jsx(N,{mensaje:s.mensaje,tipo:s.tipo,onClose:()=>d(null)})]})}const b=[{texto:'"Porque yo sÃ© los pensamientos que tengo acerca de vosotros, dice JehovÃ¡, pensamientos de paz y no de mal."',ref:"JeremÃ­as 29:11"},{texto:'"Todo lo puedo en Cristo que me fortalece."',ref:"Filipenses 4:13"},{texto:'"El SeÃ±or es mi pastor; nada me faltarÃ¡."',ref:"Salmos 23:1"},{texto:'"FÃ­ate de JehovÃ¡ de todo tu corazÃ³n, y no te apoyes en tu propia prudencia."',ref:"Proverbios 3:5"},{texto:'"Mas buscad primeramente el reino de Dios y su justicia, y todas estas cosas os serÃ¡n aÃ±adidas."',ref:"Mateo 6:33"},{texto:'"El que cree en mÃ­, como dice la Escritura, de su interior correrÃ¡n rÃ­os de agua viva."',ref:"Juan 7:38"},{texto:'"No se turbe vuestro corazÃ³n; creÃ©is en Dios, creed tambiÃ©n en mÃ­."',ref:"Juan 14:1"},{texto:'"Encomienda a JehovÃ¡ tu camino, y confÃ­a en Ã©l; y Ã©l harÃ¡."',ref:"Salmos 37:5"},{texto:'"Y sabemos que a los que aman a Dios, todas las cosas les ayudan a bien."',ref:"Romanos 8:28"},{texto:'"JehovÃ¡ es mi luz y mi salvaciÃ³n; Â¿de quiÃ©n temerÃ©?"',ref:"Salmos 27:1"},{texto:'"Esforzaos y cobrad Ã¡nimo; no temÃ¡is, ni tengÃ¡is miedo, porque JehovÃ¡ tu Dios es el que va contigo."',ref:"Deuteronomio 31:6"},{texto:'"Pero los que esperan en JehovÃ¡ tendrÃ¡n nuevas fuerzas; levantarÃ¡n alas como las Ã¡guilas."',ref:"IsaÃ­as 40:31"}],z=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function J(){var h;const{user:s}=M(),[d,f]=l.useState([]),[i,t]=l.useState(!0),p=new Date,x=p.getMonth()+1,m=Math.floor((p-new Date(p.getFullYear(),0,0))/864e5),g=b[m%b.length];return l.useEffect(()=>{D.get("/miembros/",{params:{limit:500}}).then(n=>{const o=x,a=(n.data||[]).filter(r=>r.fecha_nacimiento?parseInt(r.fecha_nacimiento.split("-")[1])===o:!1).sort((r,c)=>{const u=parseInt(r.fecha_nacimiento.split("-")[2]),y=parseInt(c.fecha_nacimiento.split("-")[2]);return u-y});f(a)}).catch(()=>{}).finally(()=>t(!1))},[]),e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"page-title",children:["Â¡Bienvenido, ",(h=s==null?void 0:s.nombre)==null?void 0:h.split(" ")[0],"!"]}),e.jsx("p",{className:"page-subtitle",children:"Ministerio San Juan 7:38 Â· Del Semillero 1/11"})]})}),e.jsx("div",{className:"card",style:{marginBottom:20,borderLeft:"4px solid var(--gold)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:14},children:[e.jsx("span",{style:{fontSize:32,flexShrink:0},children:"âœï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:8},children:"VersÃ­culo del dÃ­a"}),e.jsx("p",{style:{fontStyle:"italic",fontSize:15,lineHeight:1.8,color:"var(--text)",marginBottom:8},children:g.texto}),e.jsxs("span",{style:{color:"var(--gold)",fontWeight:700,fontSize:13},children:["â€” ",g.ref]})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:["ðŸŽ‚ CumpleaÃ±os de ",z[x-1]]}),e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:2},children:i?"...":`${d.length} miembro${d.length!==1?"s":""} este mes`})]})}),i?e.jsx("div",{style:{textAlign:"center",padding:30},children:e.jsx("span",{className:"spinner"})}):d.length===0?e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,textAlign:"center",padding:"20px 0"},children:"No hay cumpleaÃ±os registrados este mes."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:d.map(n=>{const o=parseInt(n.fecha_nacimiento.split("-")[2]),a=o===p.getDate();return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,padding:"10px 12px",borderRadius:10,background:a?"var(--gold)":"var(--surface-2)",border:a?"none":"1px solid var(--border)"},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:10,flexShrink:0,background:a?"#000":"var(--surface)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:a?22:18},children:a?"ðŸŽ‰":"ðŸŽ‚"}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700,fontSize:14,color:a?"#000":"var(--text)"},children:[n.nombres," ",n.apellidos,a&&e.jsx("span",{style:{marginLeft:8,fontSize:11,background:"#000",color:"var(--gold)",borderRadius:4,padding:"2px 6px"},children:"Â¡HOY! ðŸŽŠ"})]}),e.jsxs("div",{style:{fontSize:12,color:a?"#333":"var(--text-muted)"},children:[o," de ",z[x-1]," Â· ",n.rol||"Miembro"]})]})]},n.id)})})]})]})}export{J as D,T as M};
