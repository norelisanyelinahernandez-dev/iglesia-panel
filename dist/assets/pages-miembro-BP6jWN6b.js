const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-admin-DwTv8cFy.js","assets/vendor-react-D_uAx6on.js","assets/vendor-charts-DdYviQ4Y.js"])))=>i.map(i=>d[i]);
import{o as w,j as e,p as J,g as R,k as _}from"./pages-admin-DwTv8cFy.js";import{r as m,u as q}from"./vendor-react-D_uAx6on.js";const C="modulepreload",I=function(s){return"/"+s},A={},L=function(t,c,j){let p=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));p=Promise.allSettled(c.map(o=>{if(o=I(o),o in A)return;A[o]=!0;const f=o.endsWith(".css"),u=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const n=document.createElement("link");if(n.rel=f?"stylesheet":C,f||(n.as="script"),n.crossOrigin="",n.href=o,i&&n.setAttribute("nonce",i),document.head.appendChild(n),f)return new Promise((x,y)=>{n.addEventListener("load",x),n.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})}))}function v(r){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return p.then(r=>{for(const i of r||[])i.status==="rejected"&&v(i.reason);return t().catch(v)})},k=s=>s?new Date(s+"T00:00:00").toLocaleDateString("es-DO",{day:"2-digit",month:"long",year:"numeric"}):null,S=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"",B=["diacono","lider","maestra","maestro","secretaria","secretario","copastor","copastora","pastor","pastora"];function T(){var f;const{user:s}=w(),[t,c]=m.useState(null),[j,p]=m.useState(null),[v,r]=m.useState(!0),i=B.includes((f=s==null?void 0:s.rol)==null?void 0:f.toLowerCase());m.useEffect(()=>{(async()=>{try{const n=await J.get("/miembros/me/perfil");if(c(n.data||null),i)try{const{getMiembros:x}=await L(async()=>{const{getMiembros:h}=await import("./pages-admin-DwTv8cFy.js").then(b=>b.v);return{getMiembros:h}},__vite__mapDeps([0,1,2])),y=await x({limit:500});p(y.data.filter(h=>h.estado==="activo").length)}catch{}}catch{}r(!1)})()},[]);const o=({icon:u,label:n,value:x})=>x?e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 0",borderBottom:"1px solid var(--border)"},children:[e.jsx("span",{style:{fontSize:16,minWidth:22,textAlign:"center"},children:u}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:.5,marginBottom:2},children:n}),e.jsx("div",{style:{fontSize:14,fontWeight:500},children:x})]})]}):null;return v?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:60},children:e.jsx("span",{className:"spinner",style:{width:36,height:36}})}):e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Mi Perfil"}),e.jsxs("p",{className:"page-subtitle",children:[S(t==null?void 0:t.rol)," Â· ",S(t==null?void 0:t.estado)]})]})}),e.jsxs("div",{className:"card",style:{marginBottom:20,display:"flex",alignItems:"center",gap:18,background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:[t!=null&&t.foto?e.jsx("img",{src:t.foto,style:{width:72,height:72,borderRadius:"50%",objectFit:"cover",border:"3px solid var(--gold)",flexShrink:0}}):e.jsx("div",{style:{width:72,height:72,borderRadius:"50%",background:"var(--surface)",border:"3px solid var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,flexShrink:0},children:"ðŸ™"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:4},children:"Ministerio San Juan 7:38"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:s==null?void 0:s.nombre}),e.jsxs("div",{style:{fontSize:13,color:"var(--text-muted)"},children:[S(t==null?void 0:t.rol)," Â· ",S(t==null?void 0:t.estado)]})]}),i&&j!==null&&e.jsxs("div",{style:{marginLeft:"auto",textAlign:"center",background:"var(--gold-dim)",border:"1px solid var(--gold)",borderRadius:10,padding:"10px 18px"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--gold)"},children:j}),e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"Miembros activos"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16},children:e.jsx("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:"Mi InformaciÃ³n"})}),e.jsx(o,{icon:"ðŸ“±",label:"TelÃ©fono",value:t==null?void 0:t.telefono}),e.jsx(o,{icon:"âœ‰ï¸",label:"Correo",value:t==null?void 0:t.email}),e.jsx(o,{icon:"ðŸŽ‚",label:"Fecha de nacimiento",value:k(t==null?void 0:t.fecha_nacimiento)}),e.jsx(o,{icon:"ðŸ’§",label:"Fecha de bautismo",value:k(t==null?void 0:t.fecha_bautismo)}),e.jsx(o,{icon:"â­",label:"Ministerio",value:t==null?void 0:t.ministerio_actual}),e.jsx(o,{icon:"ðŸ“",label:"DirecciÃ³n",value:t==null?void 0:t.direccion}),e.jsx(o,{icon:"ðŸ’¼",label:"OcupaciÃ³n",value:t==null?void 0:t.ocupacion})]})]})}const N=[{texto:"â€œPorque yo sÃ© los pensamientos que tengo acerca de vosotros, dice JehovÃ¡, pensamientos de paz y no de mal.â€",ref:"JeremÃ­as 29:11"},{texto:"â€œTodo lo puedo en Cristo que me fortalece.â€",ref:"Filipenses 4:13"},{texto:"â€œEl SeÃ±or es mi pastor; nada me faltarÃ¡.â€",ref:"Salmos 23:1"},{texto:"â€œFÃ­aos de JehovÃ¡ de todo tu corazÃ³n, y no te apoyes en tu propia prudencia.â€",ref:"Proverbios 3:5"},{texto:"â€œMas buscad primeramente el reino de Dios y su justicia, y todas estas cosas os serÃ¡n aÃ±adidas.â€",ref:"Mateo 6:33"},{texto:"â€œEl que cree en mÃ­, de su interior correrÃ¡n rÃ­os de agua viva.â€",ref:"Juan 7:38"},{texto:"â€œNo se turbe vuestro corazÃ³n; creÃ©is en Dios, creed tambiÃ©n en mÃ­.â€",ref:"Juan 14:1"},{texto:"â€œEncomienda a JehovÃ¡ tu camino, y confÃ­a en Ã©l; y Ã©l harÃ¡.â€",ref:"Salmos 37:5"},{texto:"â€œY sabemos que a los que aman a Dios, todas las cosas les ayudan a bien.â€",ref:"Romanos 8:28"},{texto:"â€œJehovÃ¡ es mi luz y mi salvaciÃ³n; Â¿de quiÃ©n temerÃ©?â€",ref:"Salmos 27:1"},{texto:"â€œEsforzaos y cobrad Ã¡nimo; no temÃ¡is, ni tengÃ¡is miedo, porque JehovÃ¡ tu Dios va contigo.â€",ref:"Deuteronomio 31:6"},{texto:"â€œLos que esperan en JehovÃ¡ tendrÃ¡n nuevas fuerzas; levantarÃ¡n alas como las Ã¡guilas.â€",ref:"IsaÃ­as 40:31"},{texto:"â€œVenid a mÃ­ todos los que estÃ¡is trabajados y cargados, y yo os harÃ© descansar.â€",ref:"Mateo 11:28"},{texto:"â€œEl amor es sufrido, es benigno; el amor no tiene envidia.â€",ref:"1 Corintios 13:4"},{texto:"â€œEstad siempre gozosos. Orad sin cesar. Dad gracias en todo.â€",ref:"1 Tesalonicenses 5:16-18"},{texto:"â€œDe tal manera amÃ³ Dios al mundo, que ha dado a su Hijo unigÃ©nito.â€",ref:"Juan 3:16"},{texto:"â€œJehovÃ¡ pelearÃ¡ por vosotros, y vosotros estarÃ©is tranquilos.â€",ref:"Ã‰xodo 14:14"},{texto:"â€œEl nombre de JehovÃ¡ es torre fuerte; a Ã©l correrÃ¡ el justo y serÃ¡ levantado.â€",ref:"Proverbios 18:10"},{texto:"â€œBendito el varÃ³n que confÃ­a en JehovÃ¡, y cuya confianza es JehovÃ¡.â€",ref:"JeremÃ­as 17:7"},{texto:"â€œNinguna arma forjada contra ti prosperarÃ¡.â€",ref:"IsaÃ­as 54:17"},{texto:"â€œJehovÃ¡ tu Dios estÃ¡ en medio de ti, poderoso, Ã©l salvarÃ¡.â€",ref:"SofonÃ­as 3:17"},{texto:"â€œPelea la buena batalla de la fe, echa mano de la vida eterna.â€",ref:"1 Timoteo 6:12"},{texto:"â€œDios es nuestro amparo y fortaleza, nuestro pronto auxilio en las tribulaciones.â€",ref:"Salmos 46:1"},{texto:"â€œBÃ¡state mi gracia; porque mi poder se perfecciona en la debilidad.â€",ref:"2 Corintios 12:9"},{texto:"â€œAlzarÃ© mis ojos a los montes; Â¿de dÃ³nde vendrÃ¡ mi socorro? Mi socorro viene de JehovÃ¡.â€",ref:"Salmos 121:1-2"},{texto:"â€œYo soy la vid, vosotros los pÃ¡mpanos; el que permanece en mÃ­, Ã©ste lleva mucho fruto.â€",ref:"Juan 15:5"},{texto:"â€œClama a mÃ­, y yo te responderÃ©, y te enseÃ±arÃ© cosas grandes y ocultas.â€",ref:"JeremÃ­as 33:3"},{texto:"â€œNo temas, porque yo estoy contigo; no desmayes, porque yo soy tu Dios.â€",ref:"IsaÃ­as 41:10"},{texto:"â€œEl corazÃ³n del hombre piensa su camino; mas JehovÃ¡ endereza sus pasos.â€",ref:"Proverbios 16:9"},{texto:"â€œSean gratas las palabras de mi boca y la meditaciÃ³n de mi corazÃ³n delante de ti.â€",ref:"Salmos 19:14"},{texto:"â€œEl que habita al abrigo del AltÃ­simo morarÃ¡ bajo la sombra del Omnipotente.â€",ref:"Salmos 91:1"}],D=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function O(){var b;const{user:s}=w(),t=q(),[c,j]=m.useState([]),[p,v]=m.useState([]),[r,i]=m.useState([]),[o,f]=m.useState(!0),u=new Date,n=u.getMonth()+1,x=Math.floor((u-new Date(u.getFullYear(),0,0))/864e5),y=N[x%N.length];m.useEffect(()=>{(async()=>{try{const[d,l,E]=await Promise.allSettled([J.get("/miembros/",{params:{limit:500}}),R(),_()]);if(d.status==="fulfilled"){const z=(d.value.data||[]).filter(g=>g.fecha_nacimiento&&parseInt(g.fecha_nacimiento.split("-")[1])===n).sort((g,M)=>parseInt(g.fecha_nacimiento.split("-")[2])-parseInt(M.fecha_nacimiento.split("-")[2]));j(z)}if(l.status==="fulfilled"){const z=(l.value.data||[]).filter(g=>new Date(g.fecha_inicio||g.fecha)>=u).slice(0,3);v(z)}E.status==="fulfilled"&&i((E.value.data||[]).slice(0,3))}catch{}f(!1)})()},[]);const h=({emoji:a,title:d,link:l})=>e.jsxs("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:[a," ",d]}),l&&e.jsx("button",{onClick:()=>t(l),style:{background:"none",border:"none",color:"var(--text-muted)",fontSize:12,cursor:"pointer",textDecoration:"underline"},children:"Ver todos â†’"})]});return e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"page-title",children:["Â¡Bienvenido, ",(b=s==null?void 0:s.nombre)==null?void 0:b.split(" ")[0],"!"]}),e.jsx("p",{className:"page-subtitle",children:"Ministerio San Juan 7:38 Â· Del Semillero 1/11"})]})}),e.jsx("div",{className:"card",style:{marginBottom:20,borderLeft:"4px solid var(--gold)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:14},children:[e.jsx("span",{style:{fontSize:32,flexShrink:0},children:"âœï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:8},children:"VersÃ­culo del dÃ­a"}),e.jsx("p",{style:{fontStyle:"italic",fontSize:15,lineHeight:1.8,color:"var(--text)",marginBottom:8},children:y.texto}),e.jsxs("span",{style:{color:"var(--gold)",fontWeight:700,fontSize:13},children:["â€” ",y.ref]})]})]})}),e.jsxs("div",{className:"card",style:{marginBottom:20},children:[e.jsx(h,{emoji:"ðŸ“…",title:"PrÃ³ximos Eventos",link:"/miembro/eventos"}),o?e.jsx("div",{style:{textAlign:"center",padding:20},children:e.jsx("span",{className:"spinner"})}):p.length===0?e.jsx("p",{style:{color:"var(--text-muted)",fontSize:13,textAlign:"center",padding:"10px 0"},children:"No hay eventos prÃ³ximos."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:p.map(a=>{const d=new Date(a.fecha_inicio||a.fecha);return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"8px 10px",borderRadius:10,background:"var(--surface-2)",border:"1px solid var(--border)"},children:[e.jsxs("div",{style:{background:"var(--gold)",color:"#000",borderRadius:8,padding:"6px 10px",textAlign:"center",minWidth:44,flexShrink:0},children:[e.jsx("div",{style:{fontSize:16,fontWeight:700},children:d.getDate()}),e.jsx("div",{style:{fontSize:10,fontWeight:600},children:D[d.getMonth()].slice(0,3).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:600,fontSize:14},children:a.nombre||a.titulo}),a.lugar&&e.jsxs("div",{style:{fontSize:12,color:"var(--text-muted)"},children:["ðŸ“ ",a.lugar]})]})]},a.id)})})]}),e.jsxs("div",{className:"card",style:{marginBottom:20},children:[e.jsx(h,{emoji:"ðŸ“¢",title:"Anuncios",link:"/miembro/anuncios"}),o?e.jsx("div",{style:{textAlign:"center",padding:20},children:e.jsx("span",{className:"spinner"})}):r.length===0?e.jsx("p",{style:{color:"var(--text-muted)",fontSize:13,textAlign:"center",padding:"10px 0"},children:"No hay anuncios por el momento."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:r.map((a,d)=>e.jsxs("div",{style:{padding:"10px 12px",borderRadius:10,background:"var(--surface-2)",borderLeft:"3px solid var(--gold)"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:14,marginBottom:4},children:a.titulo}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)",lineHeight:1.5,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:a.contenido})]},d))})]}),e.jsxs("div",{className:"card",children:[e.jsx(h,{emoji:"ðŸŽ‚",title:"CumpleaÃ±os de "+D[n-1]}),e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginBottom:12},children:o?"...":`${c.length} miembro${c.length!==1?"s":""} este mes`}),o?e.jsx("div",{style:{textAlign:"center",padding:30},children:e.jsx("span",{className:"spinner"})}):c.length===0?e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,textAlign:"center",padding:"20px 0"},children:"No hay cumpleaÃ±os registrados este mes."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:c.map(a=>{const d=parseInt(a.fecha_nacimiento.split("-")[2]),l=d===u.getDate();return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,padding:"10px 12px",borderRadius:10,background:l?"var(--gold)":"var(--surface-2)",border:l?"none":"1px solid var(--border)"},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:10,flexShrink:0,background:l?"#000":"var(--surface)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:l?22:18},children:l?"&#127881;":"&#127874;"}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700,fontSize:14,color:l?"#000":"var(--text)"},children:[a.nombres," ",a.apellidos,l&&e.jsx("span",{style:{marginLeft:8,fontSize:11,background:"#000",color:"var(--gold)",borderRadius:4,padding:"2px 6px"},children:"Â¡HOY! ðŸŽŠ"})]}),e.jsxs("div",{style:{fontSize:12,color:l?"#333":"var(--text-muted)"},children:[d," de ",D[n-1]," Â· ",a.rol||"Miembro"]})]})]},a.id)})})]})]})}export{O as D,T as M};
