const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-admin-DwTv8cFy.js","assets/vendor-react-D_uAx6on.js","assets/vendor-charts-DdYviQ4Y.js"])))=>i.map(i=>d[i]);
import{o as z,j as e,p as E}from"./pages-admin-DwTv8cFy.js";import{r as p}from"./vendor-react-D_uAx6on.js";const M="modulepreload",w=function(s){return"/"+s},y={},A=function(t,f,h){let x=Promise.resolve();if(f&&f.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));x=Promise.allSettled(f.map(o=>{if(o=w(o),o in y)return;y[o]=!0;const c=o.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":M,c||(n.as="script"),n.crossOrigin="",n.href=o,i&&n.setAttribute("nonce",i),document.head.appendChild(n),c)return new Promise((a,u)=>{n.addEventListener("load",a),n.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(r){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r}return x.then(r=>{for(const i of r||[])i.status==="rejected"&&d(i.reason);return t().catch(d)})},j=s=>s?new Date(s+"T00:00:00").toLocaleDateString("es-DO",{day:"2-digit",month:"long",year:"numeric"}):null,m=s=>s?s.charAt(0).toUpperCase()+s.slice(1):"",_=["diacono","lider","maestra","maestro","secretaria","secretario","copastor","copastora","pastor","pastora"];function N(){var c;const{user:s}=z(),[t,f]=p.useState(null),[h,x]=p.useState(null),[d,r]=p.useState(!0),i=_.includes((c=s==null?void 0:s.rol)==null?void 0:c.toLowerCase());p.useEffect(()=>{(async()=>{try{const n=await E.get("/miembros/me/perfil");if(f(n.data||null),i)try{const{getMiembros:a}=await A(async()=>{const{getMiembros:g}=await import("./pages-admin-DwTv8cFy.js").then(v=>v.v);return{getMiembros:g}},__vite__mapDeps([0,1,2])),u=await a({limit:500});x(u.data.filter(g=>g.estado==="activo").length)}catch{}}catch{}r(!1)})()},[]);const o=({icon:l,label:n,value:a})=>a?e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 0",borderBottom:"1px solid var(--border)"},children:[e.jsx("span",{style:{fontSize:16,minWidth:22,textAlign:"center"},children:l}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:.5,marginBottom:2},children:n}),e.jsx("div",{style:{fontSize:14,fontWeight:500},children:a})]})]}):null;return d?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:60},children:e.jsx("span",{className:"spinner",style:{width:36,height:36}})}):e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"page-title",children:"Mi Perfil"}),e.jsxs("p",{className:"page-subtitle",children:[m(t==null?void 0:t.rol)," Â· ",m(t==null?void 0:t.estado)]})]})}),e.jsxs("div",{className:"card",style:{marginBottom:20,display:"flex",alignItems:"center",gap:18,background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:[t!=null&&t.foto?e.jsx("img",{src:t.foto,style:{width:72,height:72,borderRadius:"50%",objectFit:"cover",border:"3px solid var(--gold)",flexShrink:0}}):e.jsx("div",{style:{width:72,height:72,borderRadius:"50%",background:"var(--surface)",border:"3px solid var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,flexShrink:0},children:"ðŸ™"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:4},children:"Ministerio San Juan 7:38"}),e.jsx("div",{style:{fontSize:20,fontWeight:700},children:s==null?void 0:s.nombre}),e.jsxs("div",{style:{fontSize:13,color:"var(--text-muted)"},children:[m(t==null?void 0:t.rol)," Â· ",m(t==null?void 0:t.estado)]})]}),i&&h!==null&&e.jsxs("div",{style:{marginLeft:"auto",textAlign:"center",background:"var(--gold-dim)",border:"1px solid var(--gold)",borderRadius:10,padding:"10px 18px"},children:[e.jsx("div",{style:{fontSize:24,fontWeight:700,color:"var(--gold)"},children:h}),e.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"Miembros activos"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16},children:e.jsx("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:"Mi InformaciÃ³n"})}),e.jsx(o,{icon:"ðŸ“±",label:"TelÃ©fono",value:t==null?void 0:t.telefono}),e.jsx(o,{icon:"âœ‰ï¸",label:"Correo",value:t==null?void 0:t.email}),e.jsx(o,{icon:"ðŸŽ‚",label:"Fecha de nacimiento",value:j(t==null?void 0:t.fecha_nacimiento)}),e.jsx(o,{icon:"ðŸ’§",label:"Fecha de bautismo",value:j(t==null?void 0:t.fecha_bautismo)}),e.jsx(o,{icon:"â­",label:"Ministerio",value:t==null?void 0:t.ministerio_actual}),e.jsx(o,{icon:"ðŸ“",label:"DirecciÃ³n",value:t==null?void 0:t.direccion}),e.jsx(o,{icon:"ðŸ’¼",label:"OcupaciÃ³n",value:t==null?void 0:t.ocupacion})]})]})}const S=[{texto:'"Porque yo sÃ© los pensamientos que tengo acerca de vosotros, dice JehovÃ¡, pensamientos de paz y no de mal."',ref:"JeremÃ­as 29:11"},{texto:'"Todo lo puedo en Cristo que me fortalece."',ref:"Filipenses 4:13"},{texto:'"El SeÃ±or es mi pastor; nada me faltarÃ¡."',ref:"Salmos 23:1"},{texto:'"FÃ­ate de JehovÃ¡ de todo tu corazÃ³n, y no te apoyes en tu propia prudencia."',ref:"Proverbios 3:5"},{texto:'"Mas buscad primeramente el reino de Dios y su justicia, y todas estas cosas os serÃ¡n aÃ±adidas."',ref:"Mateo 6:33"},{texto:'"El que cree en mÃ­, como dice la Escritura, de su interior correrÃ¡n rÃ­os de agua viva."',ref:"Juan 7:38"},{texto:'"No se turbe vuestro corazÃ³n; creÃ©is en Dios, creed tambiÃ©n en mÃ­."',ref:"Juan 14:1"},{texto:'"Encomienda a JehovÃ¡ tu camino, y confÃ­a en Ã©l; y Ã©l harÃ¡."',ref:"Salmos 37:5"},{texto:'"Y sabemos que a los que aman a Dios, todas las cosas les ayudan a bien."',ref:"Romanos 8:28"},{texto:'"JehovÃ¡ es mi luz y mi salvaciÃ³n; Â¿de quiÃ©n temerÃ©?"',ref:"Salmos 27:1"},{texto:'"Esforzaos y cobrad Ã¡nimo; no temÃ¡is, ni tengÃ¡is miedo, porque JehovÃ¡ tu Dios es el que va contigo."',ref:"Deuteronomio 31:6"},{texto:'"Pero los que esperan en JehovÃ¡ tendrÃ¡n nuevas fuerzas; levantarÃ¡n alas como las Ã¡guilas."',ref:"IsaÃ­as 40:31"}],b=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];function k(){var c;const{user:s}=z(),[t,f]=p.useState([]),[h,x]=p.useState(!0),d=new Date,r=d.getMonth()+1,i=Math.floor((d-new Date(d.getFullYear(),0,0))/864e5),o=S[i%S.length];return p.useEffect(()=>{E.get("/miembros/",{params:{limit:500}}).then(l=>{const n=r,a=(l.data||[]).filter(u=>u.fecha_nacimiento?parseInt(u.fecha_nacimiento.split("-")[1])===n:!1).sort((u,g)=>{const v=parseInt(u.fecha_nacimiento.split("-")[2]),D=parseInt(g.fecha_nacimiento.split("-")[2]);return v-D});f(a)}).catch(()=>{}).finally(()=>x(!1))},[]),e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"page-title",children:["Â¡Bienvenido, ",(c=s==null?void 0:s.nombre)==null?void 0:c.split(" ")[0],"!"]}),e.jsx("p",{className:"page-subtitle",children:"Ministerio San Juan 7:38 Â· Del Semillero 1/11"})]})}),e.jsx("div",{className:"card",style:{marginBottom:20,borderLeft:"4px solid var(--gold)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:14},children:[e.jsx("span",{style:{fontSize:32,flexShrink:0},children:"âœï¸"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,color:"var(--gold)",fontWeight:700,textTransform:"uppercase",letterSpacing:1,marginBottom:8},children:"VersÃ­culo del dÃ­a"}),e.jsx("p",{style:{fontStyle:"italic",fontSize:15,lineHeight:1.8,color:"var(--text)",marginBottom:8},children:o.texto}),e.jsxs("span",{style:{color:"var(--gold)",fontWeight:700,fontSize:13},children:["â€” ",o.ref]})]})]})}),e.jsxs("div",{className:"card",children:[e.jsx("div",{style:{borderLeft:"3px solid var(--gold)",paddingLeft:12,marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700,fontSize:13,color:"var(--gold)",textTransform:"uppercase",letterSpacing:1},children:["ðŸŽ‚ CumpleaÃ±os de ",b[r-1]]}),e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:2},children:h?"...":`${t.length} miembro${t.length!==1?"s":""} este mes`})]})}),h?e.jsx("div",{style:{textAlign:"center",padding:30},children:e.jsx("span",{className:"spinner"})}):t.length===0?e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,textAlign:"center",padding:"20px 0"},children:"No hay cumpleaÃ±os registrados este mes."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:t.map(l=>{const n=parseInt(l.fecha_nacimiento.split("-")[2]),a=n===d.getDate();return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,padding:"10px 12px",borderRadius:10,background:a?"var(--gold)":"var(--surface-2)",border:a?"none":"1px solid var(--border)"},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:10,flexShrink:0,background:a?"#000":"var(--surface)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:a?22:18},children:a?"ðŸŽ‰":"ðŸŽ‚"}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:700,fontSize:14,color:a?"#000":"var(--text)"},children:[l.nombres," ",l.apellidos,a&&e.jsx("span",{style:{marginLeft:8,fontSize:11,background:"#000",color:"var(--gold)",borderRadius:4,padding:"2px 6px"},children:"Â¡HOY! ðŸŽŠ"})]}),e.jsxs("div",{style:{fontSize:12,color:a?"#333":"var(--text-muted)"},children:[n," de ",b[r-1]," Â· ",l.rol||"Miembro"]})]})]},l.id)})})]})]})}export{k as D,N as M};
